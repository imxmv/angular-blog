<div class="container">
    <h4>Dashboard</h4>
    <div class="row" *ngIf="posts.length; else loading">
        <div class="input-field col s12">
            <input id="search" type="text" [(ngModel)]="searchStr">
            <label for="search">Search post</label>
        </div>

        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Author</th>
                    <th>Title</th>
                    <th>Date</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let post of posts | searchPosts:searchStr; let idx = index">
                    <td>{{ idx + 1 }}</td>
                    <td>{{ post.author }}</td>
                    <td>{{ post.title }}</td>
                    <td>{{ post.date | date:'medium'}}</td>
                    <td>{{ post.description }}</td>
                    <td>
                        <button class="btn waves-effect waves-light" [routerLink]="['/admin', 'post', post.id, 'edit']">Open</button> |
                        <button class="btn waves-effect waves-light" (click)="remove(post.id)">Remove</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<ng-template #loading>
    <div class="row">
        <p>Loading...</p>
    </div>
</ng-template>
